**2020.5.17**

和 dalao 樱落三千讨论了一下午，在尽量满足框架的情况下，比较清晰地确定了玩家类(Player)的职能，以及玩家类与方块类(Squre)、游戏类(Game)的互动方式

目前初步确定了玩家类的属性和方法。将在第二天确定玩家类属性和方法的具体方案。

---

**2020.5.18**

和 dalao 樱落三千讨论，进一步细化了玩家类的属性和方法。确认了玩家类和方块类、游戏类的交互模式，以及玩家类具体实现的想法。确定了玩家类的属性与方法，并写为了文件 `Player.h`

其中包括以下成员变量与函数：
```cpp
class Player {
private:
	int CountScore;//用于计分
	bool MapSqure[30][10];//描述地图
	bool GameOver;//判定是否游戏结束
	std::string Name;//设定选手昵称
	Brick NowBrick, NextBrick;//当前方块与下一方块

	bool isOverlap();//判断是否方块会与地图重叠
	bool carryCommand(int Direction);//执行指令，并返回是否执行成功
	bool touchBottom();//判断方块是否与地图（包括已经成为地图的方块）重叠
	bool touchCeiling();//判断方块放置后是否触碰到顶
	void addToMap();//将方块加入到地图中
	int delLine();//删除满的行，并返回删除行的数量

public:
	Player(bool StartGame=0);//初始化
	void setName(const std::string& Name_);//设置姓名
	void run(int Direction,int &CountRemoveLine);//运行指令
	void addLine(int CountLine);//增加行数
};
```

---

**2020.5.19**

实现了 `Player.h` 的部分方法。包括：判重、执行对方块的变化、判定是否触碰底部、删除目标行等

为了实现方便，添加入新的静态变量：
```cpp
static int UP_LIM, DOWN_LIM, LEFT_LIM, RIGHT_LIM;
```
分别表示地图的边界

同时，使用暴力变换->判定重叠的方式来判定变换的合法性

---

**2020.5.20**

由于 `Brick.h` 的部分修改，修改了 `Player.cpp` 中的部分代码

同时，补充完了 `Player.cpp` 中的主体部分。目前 `Player.cpp` 部分仅剩余对游戏类提供的查询接口（可能考虑使用友元函数），以及测试

介于实现方便，对玩家类的描述改良为如下所示

```cpp
class Player {
private:
	static int UP_LIM, DOWN_LIM, LEFT_LIM, RIGHT_LIM;
	int CountScore;
	bool MapSqure[31][11];
	bool GameOver;
	std::string Name;
	Brick NowBrick, NextBrick;

	bool isOverlap();
	bool carryCommand(int Direction);
	bool touchBottom();
	bool touchCeiling();
	void addToMap();
	int delLine();
	int renewBrick();

public:
	Player(bool StartGame=0);
	void setName(const std::string& Name_);
	int run(int Direction);
	int addLine(int CountLine);
};
```